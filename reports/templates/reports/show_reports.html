{% extends "base.html" %}
{% load communities_tags %}
{% load humanize %}
{% block title %}Reports{% endblock %}

{% block content %}

{% include "includes/page_heading.html" with text="Reports" %}
<p class="text-muted text-center">
  Keep your community safe and fun.<br/>
  Delete / Ban unwanted Posts & Comments / Authors & Commenters from the community.
</p>

{% for report in reports %}
<div class="card mb-2" style="border:none; border-bottom:1px solid #dcd7d7;">
  <div class="card-body p-4">
    {% if report.post %}
      <h6>
        <a href="{{ report.post.get_absolute_url }}">{{report}}</a>
      </h6>
      <br>
      <a href="{% url 'deactivate_post' report.post.slug %}" class="btn btn-outline-primary btn-sm">Delete</a>
      <a href="{% url 'ban_user' report.post.community.slug report.post.author.id %}" class="btn btn-outline-danger btn-sm">Ban Author</a>
    {% else %}
      <h6>
        <a href="{{ report.comment.post.get_absolute_url }}">{{report}}</a>
      </h6>
      <br>
      <a href="{% url 'deactivate_comment' report.comment.id %}" class="btn btn-outline-primary btn-sm">Delete</a>
      <a href="{% url 'ban_user' report.comment.post.community.slug report.comment.commenter.id %}" class="btn btn-outline-danger btn-sm">Ban Commenter</a>
    {% endif %}
    <div style="float:right;">
      <p class="text-muted">
        Reported <span>{{report.created|naturaltime}}</span> by <a href="{% url 'user_profile' report.reporter.username %}">{{report.reporter.profile.screen_name}}</a>
      </p>
    </div>
  </div>
</div>
{% endfor %}

{% endblock %}
